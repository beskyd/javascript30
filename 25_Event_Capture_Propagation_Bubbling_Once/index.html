<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Event Capture, Propagation, Bubbling, and Once</title>
    </head>
    <body class="bod">
        
        <div class="one">
            <div class="two">
                <div class="three">
                    
                </div>
            </div>
        </div>
        
        <button>Click me!</button>
        
        <style>
            html {
                box-sizing: border-box;
            }
            
            *, *:before, *:after {
                box-sizing: inherit;
            }
            
            div {
                width: 100%;
                padding: 50px;
            }
            
            .one {
                background: thistle;
            }
            
            .two {
                background: mistyrose;
            }
            
            .three {
                background: coral;
            }
            
            .bod {
                padding: 50px;
            }
            
            button {
                margin-top: 50px;
            }
            
        </style>
        
        
        <script>
        
            const divs = document.querySelectorAll('div');
            const button = document.querySelector('button');
            
            function logText(e) {
                console.log(this.classList.value);
                e.stopPropagation(); // stop bubbling!
            }
            
            
            document.body.addEventListener('click', logText, {
                // bubbling from down to top (default)
                capture: false
            });
            
            divs.forEach(div => div.addEventListener('click', logText, {
                // bubbling from top to down
                capture: true
            }));
            
            button.addEventListener('click', () => {
                console.log('Click!!!');
            }, {
                once: true
            });
            
            
            
        </script>
            
        
    </body>
</html>